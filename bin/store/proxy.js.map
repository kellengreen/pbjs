{
  "version": 3,
  "sources": ["../../src/store/proxy.js"],
  "sourcesContent": ["const listeners = Symbol(\"listeners\");\nconst addEventListener = Symbol(\"addEventListener\");\nconst removeEventListener = Symbol(\"removeEventListener\");\n\nfunction addEventListenerFn(key, listener) {\n  console.log(this);\n}\n\nfunction removeEventListenerFn(key, listener) {\n  console.log(this);\n}\n\nconst handlers = {\n  /**\n   * @param {Object} target\n   * @param {string} property\n   * @param {Proxy} receiver\n   * @returns {*}\n   */\n  get: (target, property, receiver) => {\n    console.log(`get: ${property.toString()}`);\n\n    const result = Reflect.get(target, property, receiver);\n\n    // Bind funtions to the target instead of the receiver.\n    if (result instanceof Function) {\n      return result.bind(target);\n    }\n\n    return result;\n  },\n\n  /**\n   * @param {Object} target\n   * @param {string} property\n   * @param {*} value\n   * @param {Proxy} receiver\n   * @returns {boolean}\n   */\n  set: (target, property, value, receiver) => {\n    console.log(`set: ${property.toString()}`);\n\n    if (value instanceof Object) {\n      target[property] = wrapObject(value);\n    } else {\n      target[property] = wrapPrimitive(value);\n    }\n    // const event = new CustomEvent(property, init);\n    // target.dispatchEvent(event);\n    return Reflect.set(target, property, value, receiver);\n  },\n};\n\nfunction wrapObject(obj) {\n  obj[listeners] = new Set();\n  obj[addEventListener] = addEventListenerFn;\n  obj[removeEventListener] = removeEventListenerFn;\n  return new Proxy(obj, handlers);\n}\n\nfunction wrapPrimitive(value) {}\n\nglobalThis.$ = wrapObject({ a: 0 });\nglobalThis.ael = addEventListener;\nglobalThis.rel = removeEventListener;\nconsole.dir($);\n\n/*\n$.a = { b: 0}\n$.a.b // 0\n$a.b.c[ael]('foo', ()=>{})\n*/\n"],
  "mappings": "AAAA,KAAM,WAAY,OAAO,aACnB,iBAAmB,OAAO,oBAC1B,oBAAsB,OAAO,uBAEnC,4BAA4B,EAAK,EAAU,CACzC,QAAQ,IAAI,MAGd,+BAA+B,EAAK,EAAU,CAC5C,QAAQ,IAAI,MAGd,KAAM,UAAW,CAOf,IAAK,CAAC,EAAQ,EAAU,IAAa,CACnC,QAAQ,IAAI,QAAQ,EAAS,cAE7B,KAAM,GAAS,QAAQ,IAAI,EAAQ,EAAU,GAG7C,MAAI,aAAkB,UACb,EAAO,KAAK,GAGd,GAUT,IAAK,CAAC,EAAQ,EAAU,EAAO,IAC7B,SAAQ,IAAI,QAAQ,EAAS,cAE7B,AAAI,YAAiB,QACnB,EAAO,GAAY,WAAW,GAE9B,EAAO,GAAY,cAAc,GAI5B,QAAQ,IAAI,EAAQ,EAAU,EAAO,KAIhD,oBAAoB,EAAK,CACvB,SAAI,WAAa,GAAI,KACrB,EAAI,kBAAoB,mBACxB,EAAI,qBAAuB,sBACpB,GAAI,OAAM,EAAK,UAGxB,uBAAuB,EAAO,EAE9B,WAAW,EAAI,WAAW,CAAE,EAAG,IAC/B,WAAW,IAAM,iBACjB,WAAW,IAAM,oBACjB,QAAQ,IAAI",
  "names": []
}
